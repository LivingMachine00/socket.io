<html>
<title>Realtime Editor/Collaboration</title>
<head><script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script></head>
<body>
    <h3>Editor Collaborativo in Realtime</h3>
    <div>
        <textarea id="editor" rows="30" cols="50"  style="background-color:rgb(77, 172, 109);color:white" 
        placeholder="Type Your Text..."></textarea>
    </div>
    <script>
        //fai la connessione
        const socket = io("http://localhost:3000");
        socket.on("connection");

        
        const l = console.log

// function getEl(id) {
//     return document.getElementById(id)
// }

//const editor = getEl("editor")
const editor = document.getElementById("editor")

editor.addEventListener("keyup", (evt) => {
    const text = editor.value
    socket.emit("msg", text)
})

socket.on('msg', (data) => {
    editor.value = data
})

    </script>
</body>


</html>


